(this["webpackJsonphackernews-clone"]=this["webpackJsonphackernews-clone"]||[]).push([[0],{26:function(e,t,r){},28:function(e,t,r){},84:function(e,t,r){"use strict";r.r(t);var n=r(5),c=r.n(n),a=r(18),s=r.n(a),o=(r(26),r(12)),A=r(17),i=r(10),l=r.n(i),u=r(16),j=r(9),b=(r(28),r(0));var h=function(e){var t=Object(n.useState)(""),r=Object(j.a)(t,2),c=r[0],a=r[1];return Object(b.jsxs)("header",{className:"App-header",children:[Object(b.jsx)("div",{children:Object(b.jsx)("p",{className:"headTitle",children:"Hacker News"})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{className:"inputField",onChange:function(e){a(e.target.value)},onKeyPress:function(t){"Enter"===t.key&&e.getData(c)},id:"searchField",type:"text",value:c}),c?Object(b.jsx)("img",{alt:"clear",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAADhAAAA4QFwGBwuAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAEVQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHmGn6QAAABd0Uk5TAAEPJjE8P0FCRlJwdH+Ar7O13+b09fZsxx4pAAAAbUlEQVQYlWWPQRKAIAwDF1FAQIog/v+pHnA82BzbpN0AYEvtvRbLlElDsvdZRjIA5mxhbkI7DZDa8lpZWgI7Ap/CsBQBVgduBeSgZsBdMV4OyJXuAeJ9RwDf9UBFigDbDvs2j6q3Ckyjq3K/+g85iAYTJATukgAAAABJRU5ErkJggg==",id:"clearSearch",onClick:function(){a("")}}):"",Object(b.jsx)("button",{onClick:function(){return e.getData(c)},children:"Search"})]})]})};var d=function(e){var t=e.result,r=e.query,n=t.title||t.story_title,c=function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()};n&&r&&(n=(n=(n=n.replaceAll(r.toLowerCase(),"<mark>"+r.toLowerCase()+"</mark>")).replaceAll(r.toUpperCase(),"<mark>"+r.toUpperCase()+"</mark>")).replaceAll(c(r),"<mark>"+c(r)+"</mark>"));var a={__html:n};return Object(b.jsxs)("li",{className:"contentRow",children:[Object(b.jsx)("a",{className:"title",href:t.url||t.story_url,dangerouslySetInnerHTML:a}),Object(b.jsxs)("p",{className:"subtext",children:["Points ",t.points,", By ",t.author]})]})},O=r(19),p=r(21),g=r.n(p);var f=function(){return Object(b.jsxs)("div",{className:"loader",children:[Object(b.jsx)(O.GooeyCircleLoader,Object(o.a)({},{loading:!0,size:275,duration:2,colors:["#99fffe","#f42e00","#042549"]})),Object(b.jsx)(g.a,{className:"loader-text",strings:["Loading..."],typeSpeed:60,backSpeed:0})]})};var x=function(e){return Object(b.jsx)("div",{children:Object(b.jsx)("button",{className:"btnMore",onClick:e.loadMore,children:"More"})})};var v=function(e){console.log(e);var t,r=Object(n.useState)(!1),c=Object(j.a)(r,2),a=c[0],s=c[1];return e.searchResults?0===e.searchResults.hits.length?Object(b.jsx)("div",{className:"noResultsMessage",children:Object(b.jsx)("strong",{children:"No results found. Please try again."})}):(t=a?Object(b.jsx)(f,{}):Object(b.jsx)(x,{loadMore:function(){s(!0),e.moreData(e.searchResults.query),setTimeout((function(){return s(!1)}),500)}}),Object(b.jsx)("main",{children:Object(b.jsxs)("ol",{className:"content",children:[e.searchResults.hits.map((function(t){return Object(b.jsx)(d,{result:t,query:e.searchResults.query},t.objectID)})),t]})})):Object(b.jsx)("div",{children:"Loading..."})},m=r.p+"static/media/errorIcon.44a635b3.png";var k=function(e){return Object(b.jsxs)("div",{id:"error",children:[Object(b.jsx)("p",{children:"Oops, something went wrong! Try again later!"}),Object(b.jsx)("img",{src:m,alt:"Error Icon"})]})};var y=function(e){return Object(b.jsx)("div",{id:"sortBar",children:Object(b.jsxs)("form",{children:[Object(b.jsx)("label",{htmlFor:"sort-select",children:"Sort by: "}),Object(b.jsxs)("select",{onChange:function(t){e.sortingToggle(t.target.value)},name:"sorting",id:"sort-select",children:[Object(b.jsx)("option",{value:"search",children:"Popularity"}),Object(b.jsx)("option",{value:"search_by_date",children:"Date"})]})]})})};var w=function(){var e=Object(n.useState)(!0),t=Object(j.a)(e,2),r=t[0],c=t[1],a=Object(n.useState)(1),s=Object(j.a)(a,2),i=s[0],d=s[1],O=Object(n.useState)(!1),p=Object(j.a)(O,2),g=p[0],x=p[1],m=Object(n.useState)(""),w=Object(j.a)(m,2),C=w[0],R=w[1];console.log(i);var N=Object(n.useState)("search"),S=Object(j.a)(N,2),B=S[0],D=S[1];Object(n.useEffect)((function(){return T(C.query||"")}),[B]);var F,I=function(){var e=Object(u.a)(l.a.mark((function e(t){var r,n,c,a,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:1,n={error:"unknown"},c="https://hn.algolia.com/api/v1/".concat(B,"?query="),e.prev=3,e.next=6,fetch(c+encodeURI(t)+"&page="+r,{cache:"no-cache"});case 6:if(a=e.sent,console.log(a),!a.ok){e.next=13;break}return x(!1),e.next=12,a.json();case 12:n=e.sent;case 13:e.next=20;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0),x(!0),n.error=e.t0.message;case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,I(t);case 3:r=e.sent,R(r),c(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t,i+1);case 2:r=e.sent,d((function(e){return e+1})),R((function(e){var t=[].concat(Object(A.a)(e.hits),Object(A.a)(r.hits));return Object(o.a)(Object(o.a)({},r),{},{hits:t})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return F=r?Object(b.jsx)(f,{}):g?Object(b.jsx)(k,{}):Object(b.jsx)(v,{searchResults:C,moreData:E}),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(h,{getData:T}),Object(b.jsx)(y,{sortingToggle:function(e){d(1),D(e),console.log(e)}}),F]})},C=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,85)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),n(e),c(e),a(e),s(e)}))};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(w,{})}),document.getElementById("root")),C()}},[[84,1,2]]]);
//# sourceMappingURL=main.527e17c7.chunk.js.map